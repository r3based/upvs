# üìÅ –§–∞–π–ª—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫

## ‚úÖ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (4 —Ñ–∞–π–ª–∞)

1. **`SECURITY.md`** (7000+ —Å–ª–æ–≤)
   - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ 7 —É—Ä–æ–≤–Ω–µ–π –∑–∞—â–∏—Ç—ã
   - Incident response
   - Checklist –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

2. **`SECURITY_SUMMARY.md`**
   - –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –î–æ/–ü–æ—Å–ª–µ
   - Checklist –¥–ª—è –¥–µ–ø–ª–æ—è

3. **`SECURITY_FILES.md`** (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
   - –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

4. **`nginx/README.md`**
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
   - Troubleshooting

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (4 —Ñ–∞–π–ª–∞)

5. **`nginx/upvs-secure.conf`**
   - –ó–∞—â–∏—â—ë–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
   - Rate limiting
   - Security headers
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–ª—É–∂–µ–±–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

6. **`.env.production.example`**
   - –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –° –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

7. **`ENV_EXAMPLE.txt`** (–æ–±–Ω–æ–≤–ª—ë–Ω)
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ—è—Å–Ω–µ–Ω–∏—è
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ dev/prod

8. **`docker-compose.yml`** (–æ–±–Ω–æ–≤–ª—ë–Ω)
   - –ó–∞–∫—Ä—ã—Ç—ã –ø–æ—Ä—Ç—ã
   - Docker network –∏–∑–æ–ª—è—Ü–∏—è
   - –ü–∞—Ä–æ–ª–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –°–∫—Ä–∏–ø—Ç—ã (6 —Ñ–∞–π–ª–æ–≤)

9. **`scripts/generate_secrets.sh`**
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è API_KEY
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è POSTGRES_PASSWORD
   - –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ DATABASE_URL

10. **`scripts/export_openapi.py`**
    - –≠–∫—Å–ø–æ—Ä—Ç OpenAPI schema –≤ —Ñ–∞–π–ª
    - –ë–µ–∑ HTTP —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

11. **`scripts/security/setup_firewall.sh`**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ UFW
    - –ü–æ–ª–∏—Ç–∏–∫–∞ deny incoming
    - –û—Ç–∫—Ä—ã—Ç–∏–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤

12. **`scripts/security/setup_fail2ban.sh`**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Fail2Ban
    - Jail –¥–ª—è SSH, Nginx
    - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–Ω–∞

13. **`scripts/security/harden_ssh.sh`**
    - SSH hardening
    - –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
    - –¢–æ–ª—å–∫–æ –∫–ª—é—á–∏

14. **`scripts/security/setup_all.sh`**
    - –ú–∞—Å—Ç–µ—Ä-—Å–∫—Ä–∏–ø—Ç
    - –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
    - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, Docker logging

### –ö–æ–¥ (2 —Ñ–∞–π–ª–∞)

15. **`apps/api/main.py`** (–æ–±–Ω–æ–≤–ª—ë–Ω)
    - –û—Ç–∫–ª—é—á–µ–Ω—ã Swagger/OpenAPI
    - CORS –æ–≥—Ä–∞–Ω–∏—á–µ–Ω
    - Bearer Token —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞

16. **`apps/api/config.py`** (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –û–±—â–∏–µ —Ñ–∞–π–ª—ã (2 —Ñ–∞–π–ª–∞)

17. **`README.md`** (–æ–±–Ω–æ–≤–ª—ë–Ω)
    - –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
    - –°—Å—ã–ª–∫–∏ –Ω–∞ SECURITY.md

18. **`SUMMARY.md`** (–æ–±–Ω–æ–≤–ª—ë–Ω)
    - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 13
- **–û–±–Ω–æ–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 5
- **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ –∑–∞—Ç—Ä–æ–Ω—É—Ç–æ:** 18

### –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
|-----------|------------|
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 4 |
| –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | 4 |
| –°–∫—Ä–∏–ø—Ç—ã | 6 |
| –ö–æ–¥ API | 2 |
| –û–±—â–∏–µ | 2 |

### –ü–æ —è–∑—ã–∫–∞–º:

| –Ø–∑—ã–∫ | –§–∞–π–ª–æ–≤ |
|------|--------|
| Markdown | 6 |
| Bash | 5 |
| Python | 2 |
| Nginx conf | 1 |
| YAML | 1 |
| Text | 1 |
| Config | 2 |

---

## üîç –ì–¥–µ —á—Ç–æ –∏—Å–∫–∞—Ç—å

### –ù—É–∂–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è?
‚Üí **`SECURITY.md`** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏?
‚Üí **`scripts/security/setup_all.sh`** - –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ

### –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx?
‚Üí **`nginx/upvs-secure.conf`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è  
‚Üí **`nginx/README.md`** - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã?
‚Üí **`scripts/generate_secrets.sh`** - –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å OpenAPI?
‚Üí **`scripts/export_openapi.py`** - –∑–∞–ø—É—Å—Ç–∏—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è?
‚Üí **`SECURITY_SUMMARY.md`** - —Ä–µ–∑—é–º–µ

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sudo bash scripts/security/setup_all.sh

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
bash scripts/generate_secrets.sh > .env

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx
sudo cp nginx/upvs-secure.conf /etc/nginx/sites-available/upvs
sudo nano /etc/nginx/sites-available/upvs  # –ó–∞–º–µ–Ω–∏—Ç—å your-domain.com
sudo ln -s /etc/nginx/sites-available/upvs /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx

# SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot --nginx -d your-domain.com

# –ó–∞–ø—É—Å–∫
docker compose up -d

# –≠–∫—Å–ø–æ—Ä—Ç OpenAPI
docker compose exec api python scripts/export_openapi.py
```

---

## üìù –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ scripts/security/

```
scripts/
‚îî‚îÄ‚îÄ security/
    ‚îú‚îÄ‚îÄ setup_all.sh          # –ú–∞—Å—Ç–µ—Ä-—Å–∫—Ä–∏–ø—Ç (–≤—ã–∑—ã–≤–∞–µ—Ç –≤—Å–µ)
    ‚îú‚îÄ‚îÄ setup_firewall.sh     # UFW –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
    ‚îú‚îÄ‚îÄ setup_fail2ban.sh     # Fail2Ban –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
    ‚îî‚îÄ‚îÄ harden_ssh.sh         # SSH hardening
```

### –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. `setup_firewall.sh` ‚Üí UFW
2. `setup_fail2ban.sh` ‚Üí Fail2Ban
3. `harden_ssh.sh` ‚Üí SSH (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
4. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
5. Docker logging

### –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ - –æ–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –Ω–µ –ª–æ–º–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
SECURITY.md
‚îú‚îÄ‚îÄ nginx/upvs-secure.conf
‚îú‚îÄ‚îÄ nginx/README.md
‚îú‚îÄ‚îÄ scripts/security/setup_all.sh
‚îÇ   ‚îú‚îÄ‚îÄ scripts/security/setup_firewall.sh
‚îÇ   ‚îú‚îÄ‚îÄ scripts/security/setup_fail2ban.sh
‚îÇ   ‚îî‚îÄ‚îÄ scripts/security/harden_ssh.sh
‚îú‚îÄ‚îÄ scripts/generate_secrets.sh
‚îú‚îÄ‚îÄ scripts/export_openapi.py
‚îú‚îÄ‚îÄ .env.production.example
‚îî‚îÄ‚îÄ docker-compose.yml
```

---

## ‚úÖ Checklist –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–µ–ø–ª–æ–µ:
- [ ] –ü—Ä–æ—á–∏—Ç–∞—Ç—å `SECURITY.md`
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `scripts/security/setup_all.sh`
- [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã `scripts/generate_secrets.sh`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `nginx/upvs-secure.conf`
- [ ] –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
- [ ] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å OpenAPI

### –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏:
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `SECURITY_SUMMARY.md` –Ω–∞ –Ω–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Nginx –∫–æ–Ω—Ñ–∏–≥
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã

### –†–µ–≥—É–ª—è—Ä–Ω–æ:
- [ ] –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ Fail2Ban
- [ ] –û–±–Ω–æ–≤–ª—è—Ç—å —Å–∏—Å—Ç–µ–º—É
- [ ] –ü—Ä–æ–≤–µ—Ä—è—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- [ ] –î–µ–ª–∞—Ç—å backup

---

**–í—Å–µ —Ñ–∞–π–ª—ã –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ
